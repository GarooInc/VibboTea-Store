<div 
class="w-screen md:min-h-[90vh] h-full bg-[#F5F3F3] flex flex-col justify-between"
style="width: 100vw; margin-left: calc(50% - 50vw);"
>

  <!-- TÍTULO -->
  <div class="hidden w-full md:flex justify-start items-start px-5 md:px-20 py-10 pt-20">
      <div class="text-black text-[8vw] md:text-[3.3vw] font-bricolage font-semibold leading-tight">
          {{ section.settings.title }}
      </div>
  </div>

  <!-- CONTENIDO -->
  <div class="w-full h-full flex justify-center items-center">
      <div class="grid grid-cols-1 md:grid-cols-3 w-full gap-5 p-5 md:p-20 pt-5 md:pb-20">

        {% for block in section.blocks %}
          <div class="relative w-full aspect-square md:aspect-[9/14] overflow-hidden rounded-2xl">

            {% if block.settings.image != blank %}
              <img
                src="{{ block.settings.image | image_url: width: 1200 }}"
                srcset="
                  {{ block.settings.image | image_url: width: 600 }} 600w,
                  {{ block.settings.image | image_url: width: 900 }} 900w,
                  {{ block.settings.image | image_url: width: 1200 }} 1200w
                "
                sizes="(min-width: 768px) 33vw, 100vw"
                alt="{{ block.settings.text | escape }}"
                class="absolute inset-0 w-full h-full object-cover object-center"
                loading="lazy"
                width="{{ block.settings.image.width }}"
              height="{{ block.settings.image.height }}"
              >
            {% endif %}

            <!-- TEXTO -->
            <div class="absolute inset-0 flex">
                <h2 class="text-white text-[8vw] md:text-[3.2vw] pl-5 md:pl-10 pt-10 md:pt-25 font-bricolage font-semibold leading-tight">
                    {{ block.settings.text | newline_to_br }}
                </h2>
            </div>

            <!-- BOTÓN -->
            {% if block.settings.button_text != blank %}
            <div class="absolute bottom-10 left-5 md:bottom-20 md:left-10 bg-white h-10 md:h-12 flex items-center rounded-full">
              <p class="text-black text-sm md:text-base font-bricolage mr-2 pl-4">
                  {{ block.settings.button_text }}
              </p>
              <a href="{{ block.settings.button_url }}" target="_blank" rel="noopener" 
                class="hover:opacity-70 transition-opacity scale-75 md:scale-100 px-2"
              >
                {%- render 'arrow' -%}
              </a>
            </div>
            {% endif %}

          </div>
        {% endfor %}

      </div>
  </div>

</div>


{% schema %}
{
  "name": "Section Universe",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Title"
    }
  ],

  "blocks": [
    {
      "type": "image_block",
      "name": "Image block",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text over image"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button text",
          "default": "get started"
        },
        {
          "type": "url",
          "id": "button_url",
          "label": "Button URL"
        }
      ]
    }
  ],

  "presets": [
    {
      "name": "Section Universe"
    }
  ]
}
{% endschema %}
