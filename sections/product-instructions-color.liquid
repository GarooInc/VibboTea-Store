<div class="relative min-h-[300px] w-full">
  <div class="flex md:flex-row flex-col gap-6 py-5">
    
    <div class="relative md:w-1/2 w-full text-center">
      <h2 class="font-bricolage font-semibold md:text-[3vw] text-[8vw]">
        {{  section.settings.title }}
      </h2>
    </div>

    <div class="md:w-1/2 w-full grid grid-cols-3 xl:gap-8 gap-3 pt-5 h-full">
            <div class="bg-[#F5F5F5] rounded-xl min-h-[6vw] w-full grid grid-cols-2 
              items-center justify-center drink-option is-hot is-selected cursor-pointer" data-index="0">
            <div class="w-full flex items-center justify-center md:scale-115 scale-80">
                {% render 'icono_hot' %}
            </div>
            <p class="font-bricolage text-left xl:text-xl text-sm">Hot</p>
            </div>

            <div class="bg-[#F5F5F5] rounded-xl min-h-[6vw] w-full grid grid-cols-2 
              items-center justify-center drink-option is-cold cursor-pointer" data-index="1">
            <div class="w-full flex items-center justify-center md:scale-115 scale-80">
                {% render 'icono_cold' %}
            </div>
            <p class="font-bricolage text-left xl:text-xl text-sm">Cold</p>
            </div>

            <div class="bg-[#F5F5F5] rounded-xl min-h-[6vw] w-full grid grid-cols-2 
              items-center justify-center drink-option is-mocktail cursor-pointer" data-index="2">
            <div class="w-full flex items-center justify-center md:scale-115 scale-80">
                {% render 'icono_mocktail' %}
            </div>
            <p class="font-bricolage text-left xl:text-xl text-xs">Mocktail</p>
            </div>

    </div>
    


  </div>
  <div class="hidden md:block relative w-full how-container-desktop">
        {% for block in section.blocks %}
            <div class="how-block {% if forloop.first %}is-active{% endif %}" data-index="{{ forloop.index0 }}">
            
            <div class="grid grid-cols-3 gap-5 px-5 py-10 justify-center items-center">
                {% for i in (1..3) %}
                {% assign gif_key = 'gif_' | append: i %}
                {% assign text_key = 'text_' | append: i %}

                {% assign gif = block.settings[gif_key] %}
                {% assign text = block.settings[text_key] %}

                {% if gif %}
                    <div class="flex flex-col items-center">
                        <div class="relative h-auto w-full overflow-hidden rounded-xl pb-5">
                            <img
                            src="{{ gif | image_url: width: 1200 }}"
                            alt=""
                            class="w-full h-auto object-cover rounded-xl"
                            width="{{ block.settings.gif.width }}"
                            height="{{ block.settings.gif.height }}"
                            >
                        </div>

                       <p class="font-bricolage mt-3 xl:text-xl text-sm text-center min-h-[3.5em] 
                        leading-snug overflow-hidden xl:px-10">
                            {{ text }}
                        </p>
                    </div>


                {% endif %}
                {% endfor %}
            </div>

            </div>
        {% endfor %}
    </div>
    <div class="md:hidden w-full overflow-x-auto how-container-mobile">
        {% for block in section.blocks %}
            <div class="how-block {% if forloop.first %}is-active{% endif %}" data-index="{{ forloop.index0 }}">
            
            <div class="flex gap-4 px-4 py-6 snap-x snap-mandatory overflow-x-auto">
                {% for i in (1..3) %}
                {% assign gif_key = 'gif_' | append: i %}
                {% assign text_key = 'text_' | append: i %}
                {% assign gif = block.settings[gif_key] %}
                {% assign text = block.settings[text_key] %}

                {% if gif %}
                    <div class="min-w-[80%] max-w-[80%] snap-center shrink-0 flex flex-col items-center">
                        <div class="flex flex-col items-center w-full">
                            <div class="relative w-full h-[250px] overflow-hidden rounded-2xl pb-5">
                            <img
                                src="{{ gif | image_url: width: 1200 }}"
                                alt=""
                                class="w-full h-auto object-cover rounded-2xl block"
                                width="{{ block.settings.gif.width }}"
                            height="{{ block.settings.gif.height }}"
                            >
                            </div>

                            <p class="font-bricolage pt-2 text-lg text-center h-[3.5em]
                               leading-snug overflow-hidden px-5">
                                {{ text }}
                            </p>
                        </div>
                    </div>

                {% endif %}
                {% endfor %}
            </div>

            </div>
        {% endfor %}
        </div>

</div>

<div
  id="benefitsSection"
  class="w-screen py-15 md:py-16 transition-colors"
  style="width: 100vw; margin-left: calc(50% - 50vw); background-color:{{ section.settings.color }};"
>

  <div class="mx-auto w-full px-6 xl:px-35">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 justify-center w-full">

        <div class="flex flex-col items-center text-center md:gap-4 py-2">
          <div class="w-15 h-15 md:w-24 md:h-24 shrink-0 flex justify-center items-center">
              {% render 'iconos_naughty' %}
          </div>

          <h3 class="text-lg md:text-2xl font-bold font-bricolage text-black ">
            Enjoy
          </h3>

          <p class="text-black font-medium  md:text-md text-[0.9rem] font-bricolage lg:px-15">
            In the morning or during the day.
          </p>
        </div>


        <div class="flex flex-col items-center text-center md:gap-4 py-2">
          <div class="w-15 h-15 md:w-24 md:h-24 shrink-0 flex justify-center items-center">
              {% render 'iconos_hotCold' %}
          </div>

          <h3 class="text-lg md:text-2xl font-bold font-bricolage text-black ">
            Ideal
          </h3>

          <p class="text-black font-medium  md:text-md text-[0.9rem] font-bricolage  lg:px-15">
            Hot or cold with ice.
          </p>
        </div>



        <div class="flex flex-col items-center text-center md:gap-4 py-2">
          <div class="w-15 h-15 md:w-24 md:h-24 shrink-0 flex justify-center items-center">
              {% render 'iconos_Ingredients' %}
          </div>

          <h3 class="text-lg md:text-2xl font-bold font-bricolage text-black">
            Add
          </h3>

          <p class="text-black font-medium md:text-md text-[0.9rem] font-bricolage lg:px-15">
            More than 2 grams for higher flavor.
          </p>
        </div>


        <div class="flex flex-col items-center text-center md:gap-4 py-2">
          <div class="w-15 h-15 md:w-24 md:h-24 shrink-0 flex justify-center items-center">
              {% render 'iconos_Routine' %}
          </div>

          <h3 class="text-lg md:text-2xl font-bold font-bricolage text-black ">
            Consistency
          </h3>

          <p class="text-black font-medium md:text-md text-[0.9rem] font-bricolage lg:px-15">
            Drink every day for an improved routine.
          </p>
        </div>

    </div>
  </div>
</div>




<style>
.drink-option {
  transition: background-color 0.3s ease, transform 0.3s ease;
}

.drink-option.is-selected {
  transform: scale(1.05);
}


.drink-option.is-selected {
  background-color: {{section.settings.color}}; 
}

.how-block {
    display: none;
  }

  .how-block.is-active {
    display: block;
  }

</style>
<script>
  const options = document.querySelectorAll('.drink-option');
  const benefitsSection = document.getElementById('benefitsSection');

 
  options.forEach(option => {
    option.addEventListener('click', () => {
      const index = option.dataset.index;

      // Botones
      options.forEach(o => o.classList.remove('is-selected'));
      option.classList.add('is-selected');

     

      // Detectar versi√≥n visible
      const isMobile = window.innerWidth < 768;

      const container = isMobile
        ? document.querySelector('.how-container-mobile')
        : document.querySelector('.how-container-desktop');

      if (!container) return;

      const blocks = container.querySelectorAll('.how-block');

      blocks.forEach(block => block.classList.remove('is-active'));

      const activeBlock = container.querySelector(
        `.how-block[data-index="${index}"]`
      );

      if (activeBlock) activeBlock.classList.add('is-active');
    });
  });
</script>



{% schema %}

{
  "name": "Product how color",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Product Ingredients"
    },
    {
      "type": "text",
      "id": "color",
      "label": "Color",
    },
    
  
  ],
  
   "blocks": [
    {
        "type": "how_block",
        "name": "How block",
        "settings": [
        {
            "type": "image_picker",
            "id": "gif_1",
            "label": "GIF 1"
        },
        {
            "type": "text",
            "id": "text_1",
            "label": "Text 1",
            "default": "Description 1"
        },
        {
            "type": "image_picker",
            "id": "gif_2",
            "label": "GIF 2"
        },
        {
            "type": "text",
            "id": "text_2",
            "label": "Text 2",
            "default": "Description 2"
        },
        {
            "type": "image_picker",
            "id": "gif_3",
            "label": "GIF 3"
        },
        {
            "type": "text",
            "id": "text_3",
            "label": "Text 3",
            "default": "Description 3"
        },
       
        ]
    }
    ],
    "presets": [
        {
        "name": "Product how color",
        "category": "Productos"
        }
    ]
}

{% endschema %}


    